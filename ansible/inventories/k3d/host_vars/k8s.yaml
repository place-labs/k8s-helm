# K3D-specific overrides for PlaceOS (local development environment)
# This file contains only the differences from the base configuration in group_vars/all/k8s_base.yaml
# The final configuration is created by: placeos = placeos_base | combine(placeos_override, recursive=True)

# Cluster Info ConfigMap (used by admins and upgrade jobs)
cluster_info:
  name: "default" # eg. PlaceOS PROD
  environment: "default" # eg. production, staging, development
  region: "default" # eg. australiaeast

# Domain variables set for a local install
placeDomain: "localhost"
customRedirectPort: 8443

# Override PlaceOS services with K3D-specific configuration (development setup)
placeos_override:
  # api - No resource limits for local dev
  api:
    deployment:
      resources: {}
  
  # auth - No resource limits for local dev
  auth:
    deployment:
      resources: {}
  
  # core - No resource limits for local dev
  core:
    deployment:
      resources: {}
  
  # dispatch - No resource limits for local dev
  dispatch:
    deployment:
      resources: {}
  
  # frontendloader - No resource limits for local dev
  frontendloader:
    deployment:
      resources: {}
    httpDeployment:
      resources: {}
  
  # searchingest - No resource limits for local dev
  searchingest:
    deployment:
      resources: {}
  
  # triggers - No resource limits for local dev
  triggers:
    deployment:
      resources: {}
  
  # staff - Ingress enabled for local access
  staff:
    ingress:
      enabled: true
    deployment:
      resources: {}
  
  # source - No resource limits for local dev
  source:
    deployment:
      resources: {}

# Third-party service overrides for K3D (minimal local setup)
ingress_nginx:
  enabled: false

elasticsearch:
  master:
    replicas: 1
    persistence:
      size: 100Mib
    resources: {}
  data:
    replicas: 1
    persistence:
      size: 100Mib
    resources: {}

redis:
  master:
    resources: {}

influxdb:
  priorityClassName: null
  resources: {}
